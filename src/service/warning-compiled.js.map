{"version":3,"sources":["warning.js"],"names":[],"mappings":";;;;;;;AAGA;;;;AACA;;AACA;;;;AACA,IAAI,uBAAJ,C,CANA;;;;;AAQA,IAAI,aAAa,eAAe,OAAf,CAAuB,aAAvB,CAAjB;AACA,gBAAM,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,UAAjD;;AAEA;;;;AAIO,IAAM,oCAAc,SAAd,WAAc,SAAU;AACnC,SAAO,gBAAM,IAAN,CAAc,IAAd,yBAAwC,MAAxC,EAAgD,IAAhD,CAAqD,eAAO;AAAA,QAC5D,IAD4D,GACpD,GADoD,CAC5D,IAD4D;;AAEjE,QAAI,aAAa,EAAjB;AACA,QAAI,KAAK,OAAL,CAAa,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,WAAK,OAAL,CAAa,OAAb,CAAqB,UAAU,IAAV,EAAgB,KAAhB,EAAuB;AAC1C,mBAAW,IAAX,CAAgB,mBAAmB,IAAnB,EAAyB,KAAzB,EAAgC,MAAhC,CAAhB;AACD,OAFD;AAGD;AACD,SAAK,OAAL,GAAe,UAAf;;AAEA,WAAO,IAAP;AACD,GAXM,CAAP;AAYD,CAbM;;AAeP;;;;;;;AAOA,SAAS,kBAAT,CAA4B,IAA5B,EAAkC,KAAlC,EAAyC,MAAzC,EAAiD;AAAA,qBAC3B,OAAO,IADoB;AAAA,MAC1C,KAD0C,gBAC1C,KAD0C;AAAA,MACnC,IADmC,gBACnC,IADmC;;AAE/C,MAAI,OAAO,SAAS,OAAO,CAAhB,CAAX;AACA,OAAK,MAAL,GAAc,OAAO,KAAP,GAAe,CAA7B;AACA,OAAK,WAAL,GAAmB,mBAAS,UAAT,CAAoB,IAAI,IAAJ,CAAS,KAAK,WAAd,CAApB,EAAgD,qBAAhD,CAAnB;;AAEA,SAAO,IAAP;AACD","file":"warning-compiled.js","sourcesContent":["/**\n * Created by lyc on 17-7-11.\n */\nimport axios from 'axios'\nimport {BASE_URL} from './common'\nimport {dateUtil} from '@/utils/dateUtil'\nlet base = BASE_URL\n\nlet AUTH_TOKEN = sessionStorage.getItem('access-user')\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN\n\n/**\n * 获取专题预警数据\n * @param params\n */\nexport const getWarnings = params => {\n  return axios.post(`${base}/warningLog/search`, params).then(res => {\n    let {data} = res\n    let renderData = []\n    if (data.content.length > 0) {\n      data.content.forEach(function (item, index) {\n        renderData.push(handlerWarningItem(item, index, params))\n      })\n    }\n    data.content = renderData\n\n    return data\n  })\n}\n\n/**\n * 处理专题列表结果\n * @param item\n * @param index\n * @param params\n * @returns {*}\n */\nfunction handlerWarningItem(item, index, params) {\n  let {limit, page} = params.page\n  let skip = limit * (page - 1)\n  item.number = skip + index + 1\n  item.dateCreated = dateUtil.formatDate(new Date(item.dateCreated), 'yyyy-MM-dd hh:mm:ss')\n\n  return item\n}\n"]}