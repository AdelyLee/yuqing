{"version":3,"sources":["subject.js"],"names":[],"mappings":";;;;;;;AAGA;;;;AACA;;AACA;;AACA;;;;AANA;;;AAOA,IAAI,uBAAJ;;AAEA,IAAI,aAAa,eAAe,OAAf,CAAuB,aAAvB,CAAjB;AACA,gBAAM,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,UAAjD;AACA;;;;AAIO,IAAM,oCAAc,SAAd,WAAc,SAAU;AACnC,SAAO,gBAAM,IAAN,CAAc,IAAd,gCAA+C,MAA/C,EAAuD,IAAvD,CAA4D,eAAO;AAAA,QACnE,IADmE,GAC3D,GAD2D,CACnE,IADmE;;AAExE,QAAI,aAAa,EAAjB;AACA,QAAI,KAAK,OAAL,CAAa,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,WAAK,OAAL,CAAa,OAAb,CAAqB,UAAU,IAAV,EAAgB,KAAhB,EAAuB;AAC1C,mBAAW,IAAX,CAAgB,mBAAmB,IAAnB,EAAyB,KAAzB,EAAgC,MAAhC,CAAhB;AACD,OAFD;AAGD;AACD,SAAK,OAAL,GAAe,UAAf;;AAEA,WAAO,IAAP;AACD,GAXM,CAAP;AAYD,CAbM;;AAeP;;;;;;;AAOA,SAAS,kBAAT,CAA4B,IAA5B,EAAkC,KAAlC,EAAyC,MAAzC,EAAiD;AAAA,MAC1C,KAD0C,GAC3B,MAD2B,CAC1C,KAD0C;AAAA,MACnC,IADmC,GAC3B,MAD2B,CACnC,IADmC;;AAE/C,MAAI,OAAO,SAAS,OAAO,CAAhB,CAAX;AACA,MAAI,UAAU,aAAM,aAAN,CAAoB,IAApB,CAAd;AACA,UAAQ,MAAR,GAAiB,OAAO,KAAP,GAAe,CAAhC;AACA,UAAQ,eAAR,GAA0B,mBAAS,UAAT,CAAoB,QAAQ,SAA5B,EAAuC,YAAvC,CAA1B;AACA,UAAQ,aAAR,GAAwB,mBAAS,UAAT,CAAoB,QAAQ,OAA5B,EAAqC,YAArC,CAAxB;;AAEA,SAAO,IAAP;AACD;AACD;;;;AAIO,IAAM,kCAAa,SAAb,UAAa,SAAU;AAClC,SAAO,gBAAM,IAAN,CAAc,IAAd,sBAAqC,MAArC,EAA6C,IAA7C,CAAkD;AAAA,WAAO,IAAI,IAAX;AAAA,GAAlD,CAAP;AACD,CAFM;AAGP;;;;AAIO,IAAM,oCAAc,SAAd,WAAc,SAAU;AACnC,SAAO,gBAAM,GAAN,CAAa,IAAH,uBAA2B,OAAO,EAA5C,EAAgD,IAAhD,CAAqD;AAAA,WAAO,IAAI,IAAX;AAAA,GAArD,CAAP;AACD,CAFM;AAGP;;;;AAIO,IAAM,gEAA4B,SAA5B,yBAA4B,SAAU;AACjD,SAAO,gBAAM,GAAN,CAAa,IAAH,oCAAwC,OAAO,EAAzD,EAA6D,IAA7D,CAAkE;AAAA,WAAO,IAAI,IAAX;AAAA,GAAlE,CAAP;AACD,CAFM;;AAIP;;;;AAIO,IAAM,wCAAgB,SAAhB,aAAgB,SAAU;AACrC,SAAO,gBAAM,MAAN,CAAgB,IAAH,uBAA2B,OAAO,EAA/C,EAAmD,IAAnD,CAAwD;AAAA,WAAO,IAAI,IAAX;AAAA,GAAxD,CAAP;AACD,CAFM","file":"subject-compiled.js","sourcesContent":["/**\n * Created by lyc on 17-7-11.\n */\nimport axios from 'axios'\nimport {dateUtil} from '@/utils/dateUtil'\nimport {utils} from '@/utils/utils'\nimport {BASE_URL} from './common'\nlet base = BASE_URL\n\nlet AUTH_TOKEN = sessionStorage.getItem('access-user')\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN\n/**\n * 根据用户获取用户专题 POST /customSubject/findByUser\n * @param params\n */\nexport const getSubjects = params => {\n  return axios.post(`${base}/customSubject/findByUser`, params).then(res => {\n    let {data} = res\n    let renderData = []\n    if (data.content.length > 0) {\n      data.content.forEach(function (item, index) {\n        renderData.push(handlerSubjectItem(item, index, params))\n      })\n    }\n    data.content = renderData\n\n    return data\n  })\n}\n\n/**\n * 处理专题列表结果\n * @param item\n * @param index\n * @param params\n * @returns {*}\n */\nfunction handlerSubjectItem(item, index, params) {\n  let {limit, page} = params\n  let skip = limit * (page - 1)\n  let subject = utils.decodeSubject(item)\n  subject.number = skip + index + 1\n  subject.startFormatDate = dateUtil.formatDate(subject.startDate, 'yyyy-MM-dd')\n  subject.endFormatDate = dateUtil.formatDate(subject.endDate, 'yyyy-MM-dd')\n\n  return item\n}\n/**\n * 新建专题 POST /customSubject/\n * @param params\n */\nexport const addSubject = params => {\n  return axios.post(`${base}/customSubject/`, params).then(res => res.data)\n}\n/**\n * 修改专题 PUT /customSubject/{id}\n * @param params\n */\nexport const editSubject = params => {\n  return axios.put(`${base}/customSubject/` + params.id).then(res => res.data)\n}\n/**\n * 更新专题报告 GET /customSubject/updateReport/{id}\n * @param params\n */\nexport const updateCustomSubjectReport = params => {\n  return axios.get(`${base}/customSubject/updateReport/` + params.id).then(res => res.data)\n}\n\n/**\n * 删除专题 DELETE /customSubject/{id}\n * @param params\n */\nexport const deleteSubject = params => {\n  return axios.delete(`${base}/customSubject/` + params.id).then(res => res.data)\n}\n"]}