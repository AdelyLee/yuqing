{"version":3,"sources":["charts.js"],"names":[],"mappings":"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","file":"charts-compiled.js","sourcesContent":["/**\n * Created by lyc on 17-5-17.\n * echarts 画图工具类, 引入jquery使用jquery的深度copy 和数据请求get方法\n * 引用 mapChartUtil 是对地图geoJson数据进行处理.\n *\n * drawLineBarChart 画这线图或者柱状图\n *\n * drawPieChart 画饼图\n *\n * drawMapChart 渲染地图\n * 地图下钻的功能不能实现可配置花,可以根据自己的调用改渲染方法时,控制逻辑来实现\n *\n * 引入d3实现关键词云图\n *\n */\nimport d3 from 'd3'\nimport d3LayoutCloud from 'd3-cloud'\nimport $ from 'jquery'\nimport echarts from 'echarts'\nimport {mapChartUtil} from './map-chart-util'\nimport {utils} from '../utils'\n\nconst basePath = utils.getBasePath()\n\nexport const chart = {\n  /**\n   * 绘制echarts柱状图或折线图\n   * @param containerId\n   * @param option\n   * @param events\n   */\n  drawLineBarChart: function (containerId, option, events) {\n    echarts.dispose(document.getElementById(containerId))\n    let myChart = echarts.init(document.getElementById(containerId))\n    // 指定图表默认配置项和数据\n    let defaultOption = {\n      tooltip: {},\n      xAxis: {\n        data: ['a', 'b', 'c', 'd', 'e', 'f']\n      },\n      yAxis: {},\n      series: [{\n        name: '数量',\n        type: 'bar',\n        data: [5, 20, 36, 10, 10, 20]\n      }]\n    }\n\n    if (option.series && option.series.length > 0) {\n      delete defaultOption.series[0].data\n      delete defaultOption.xAxis.data\n    }\n    $.extend(true, defaultOption, option)\n\n    if (events) {\n      for (let i in events) {\n        let event = events[i]\n        if (typeof event === 'function') {\n          myChart.on(i, event)\n        }\n      }\n    }\n\n    myChart.setOption(defaultOption)\n  },\n  /**\n   * 绘制echarts饼状图\n   * @param containerId\n   * @param option\n   * @param events\n   */\n  drawPieChart: function (containerId, option, events) {\n    echarts.dispose(document.getElementById(containerId))\n    let myChart = echarts.init(document.getElementById(containerId))\n    // 指定图表默认配置项和数据\n    let defaultOption = {\n      tooltip: {},\n      series: [\n        {\n          name: '数量',\n          type: 'pie',\n          radius: '55%',\n          data: [\n            {value: 335, name: 'a'},\n            {value: 310, name: 'b'},\n            {value: 234, name: 'c'},\n            {value: 135, name: 'd'},\n            {value: 1548, name: 'e'}\n          ],\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }\n      ]\n    }\n    if (option.series && option.series.length > 0) {\n      delete defaultOption.series[0].data\n    }\n    $.extend(true, defaultOption, option)\n    if (events) {\n      for (let i in events) {\n        let event = events[i]\n        if (typeof event === 'function') {\n          myChart.on(i, event)\n        }\n      }\n    }\n\n    myChart.setOption(defaultOption)\n  },\n  /**\n   * 绘制echarts仪表盘图\n   * @param containerId\n   * @param option\n   * @param events\n   */\n  drawGaugeChart: function (containerId, option, events) {\n    echarts.dispose(document.getElementById(containerId))\n    let myChart = echarts.init(document.getElementById(containerId))\n    // 指定图表默认配置项和数据\n    let defaultOption = {\n      tooltip: {},\n      series: [\n        {\n          name: '情感类型',\n          startAngle: 180,\n          endAngle: 0,\n          min: 0,\n          max: 100,\n          type: 'gauge',\n          detail: {formatter: '{value}'},\n          radius: '85%',\n          axisLine: {\n            show: false,\n            lineStyle: {\n              width: 30,\n              shadowBlur: 0,\n              color: [[0.3, '#E96C6C'], [0.7, '#52B5FF'], [1, '#D2DD2A']]\n            }\n          },\n          data: [{value: 20, name: 'a'}]\n        }\n      ]\n    }\n\n    if (option.series && option.series.length > 0) {\n      delete defaultOption.series[0].data\n    }\n    $.extend(true, defaultOption, option)\n\n    if (events) {\n      for (let i in events) {\n        let event = events[i]\n        if (typeof event === 'function') {\n          myChart.on(i, event)\n        }\n      }\n    }\n\n    myChart.setOption(defaultOption)\n  },\n\n  /**\n   * 绘制echarts地图\n   * @param containerId\n   * @param option\n   * @param events\n   */\n  drawMapChart: function (containerId, option, events) {\n    let mapType = option.mapType === undefined ? 'china' : option.mapType\n    let provinces = []\n    for (let province in mapChartUtil._provinceMap) {\n      provinces.push(province)\n    }\n\n    function getJsonUrl(mapType) {\n      let geoJsonName = ''\n      let mapJsonUrl = basePath + '/static/geoJson/china.json'\n      if (mapType === 'china') {\n        mapJsonUrl = basePath + '/static/geoJson/china.json'\n      } else if ($.inArray(mapType, provinces) !== -1) {\n        geoJsonName = mapChartUtil._provinceMap[mapType]\n        mapJsonUrl = basePath + '/static/geoJson/geometryProvince/' + geoJsonName + '.json'\n      } else {\n        geoJsonName = mapChartUtil.cityMap[mapType]\n        if (geoJsonName === undefined) {\n          mapJsonUrl = basePath + '/static/geoJson/china.json'\n        } else {\n          mapJsonUrl = basePath + '/static/geoJson/geometryCounties/' + geoJsonName + '.json'\n        }\n      }\n\n      return mapJsonUrl\n    }\n\n    $.get(getJsonUrl(mapType), (mapJson) => {\n      echarts.dispose(document.getElementById(containerId))\n      echarts.registerMap(mapType, mapJson)\n      let myChart = echarts.init(document.getElementById(containerId))\n      // 指定图表默认配置项和数据\n      let defaultOption = {\n        tooltip: {\n          trigger: 'item',\n          formatter: '{b}'\n        },\n        series: [\n          {\n            name: '地图',\n            type: 'map',\n            mapType: mapType,\n            selectedMode: 'multiple',\n            label: {\n              normal: {\n                show: true\n              },\n              emphasis: {\n                show: true\n              }\n            },\n            data: []\n          }\n        ]\n      }\n\n      if (option.series && option.series.length > 0) {\n        delete defaultOption.series[0].data\n      }\n      $.extend(true, defaultOption, option)\n\n      if (events) {\n        for (let i in events) {\n          let event = events[i]\n          if (typeof event === 'function') {\n            myChart.on(i, event)\n          }\n        }\n      }\n\n      myChart.setOption(defaultOption)\n    })\n  },\n\n  /**\n   * 绘制d3关键词云图\n   * @param containerId\n   * @param option\n   */\n  drawKeyWordsCloud: function (containerId, option) {\n    let item = document.getElementById(containerId)\n    let defaultOption = [{\n      keyword: '暂无相关数据',\n      score: 10\n    }]\n    let data = option.data\n    if (data !== undefined && data.length > 0) {\n      $(item).empty()\n    } else {\n      data = defaultOption\n    }\n    let height = $(item).height()\n    let width = $(item).width()\n    let fill = d3.scale.category20()\n    let scale = d3.scale.linear()\n      .domain([0, data[0].score / 3, data[0].score])\n      .range([10, 20, 50])\n\n    let layout = d3LayoutCloud()\n      .size([width, height])\n      .words(data.map(function (d) {\n        return {\n          text: d.keyword,\n          size: scale(d.score)\n        }\n      })).padding(2).rotate(function () {\n        return ~~(Math.random() * 2) * 90\n      }).font('Impact').fontSize(function (d) {\n        return d.size\n      }).on('end', draw)\n\n    layout.start()\n\n    function draw(words) {\n      d3.select(item)\n        .append('svg').attr('width', '100%')\n        .attr('height', '100%')\n        .style('border-radius', width + 'px')\n        .append('g').attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .selectAll('text')\n        .data(words).enter().append('text')\n        .style('font-size', function (d) {\n          return d.size + 'px'\n        })\n        .style('font-family', '微软雅黑')\n        .style('fill', function (d, i) {\n          return fill(i)\n        })\n        .attr('text-anchor', 'middle')\n        .attr('transform', function (d) {\n          return 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')'\n        })\n        .text(function (d) {\n          return d.text\n        })\n    }\n  },\n  /**\n   * 绘制d3气泡图\n   * @param containerId\n   * @param option\n   */\n  drawBubbleChart: function (containerId, option) {\n  }\n}\n"]}